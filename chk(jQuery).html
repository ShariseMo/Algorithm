<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>checkbox的全选反选(jQuery版本)</title>
    <style type="text/css">
        input{width:30px;height:30px;vertical-align:middle;}
    </style>
</head>
<body>
    <div class="box">
        <h4><input type="checkbox" name="checkAll" class="checkAll" onclick="checkAll(this,'.checkOne')">全选</h4><hr>
        <p><input type="checkbox" class="checkOne" value="1">单选</p>
        <p><input type="checkbox" class="checkOne" value="2">单选</p>
        <p><input type="checkbox" class="checkOne" value="3">单选</p>
        <p><input type="checkbox" class="checkOne" value="4">单选</p>
        <p><input type="checkbox" class="checkOne" value="5">单选</p>
    </div>

    <script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript">
        // 全选（全不选）
        function checkAll(obj,subSel){
            $(subSel).each(function(){
                $(subSel).prop("checked",$(obj).prop("checked"));
            });
        }

        // 单一选择部分，一个不选之后全选也去掉 
        var ocheckOne = $(".checkOne");
        var ocheckAll = $(".checkAll");

        ocheckOne.click(function(){
            if(!$(this).prop("checked")){
                 ocheckAll.prop("checked",false);
             }
            var flag = true;
            ocheckOne.each(function(){
                if(!$(this).prop("checked")){
                    flag = false;
                } 
            });  
            if(flag){
                ocheckAll.prop("checked",true);
            }    
        });
    </script>
</body>
</html>